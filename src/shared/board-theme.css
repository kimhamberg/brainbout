/* stylelint-disable selector-no-qualifying-type -- chessground custom elements require type-qualified selectors */

/* Catppuccin-complementary chess board — overrides chessground.brown.css */

/*
 * Board squares via conic-gradient + CSS vars (replaces hardcoded SVG).
 * Frappe: cool slate (surface1/surface0)
 * Latte: soft gray (mantle/surface1)
 */

:root,
[data-theme="frappe"] {
  --board-light: #4e5878;
  --board-dark: #3e4668;
  --board-last-move: rgb(140 170 238 / 0.35);
  --board-selected: rgb(140 170 238 / 0.4);
  --board-move-dest: 166 209 137;
  --board-check: 231 130 132;
  --board-premove: 239 159 118;
  --board-coord-dark: rgb(198 208 245 / 0.8);
  --board-coord-light: rgb(65 69 89 / 0.8);
  --board-crust: 35 38 52;
}

[data-theme="latte"] {
  --board-light: #dde3f5;
  --board-dark: #b4bfde;
  --board-last-move: rgb(30 102 245 / 0.25);
  --board-selected: rgb(30 102 245 / 0.3);
  --board-move-dest: 64 160 43;
  --board-check: 210 15 57;
  --board-premove: 254 100 11;
  --board-coord-dark: rgb(76 79 105 / 0.8);
  --board-coord-light: rgb(188 192 204 / 0.8);
  --board-crust: 220 224 232;
}

/* Board squares */
cg-board {
  background-color: var(--board-light);
  background-image: conic-gradient(
    var(--board-dark) 25%,
    var(--board-light) 0 50%,
    var(--board-dark) 0 75%,
    var(--board-light) 0
  );
  background-size: 25% 25%;

  /* Interactive states */
  & square.move-dest {
    background: radial-gradient(
      rgb(var(--board-move-dest) / 0.5) 22%,
      rgb(var(--board-move-dest)) 0,
      rgb(var(--board-crust) / 0.3) 0,
      rgb(var(--board-crust) / 0) 0
    );

    &:hover {
      background: rgb(var(--board-move-dest) / 0.3);
    }
  }

  & square.oc.move-dest {
    background: radial-gradient(
      transparent 0%,
      transparent 80%,
      rgb(var(--board-move-dest) / 0.3) 80%
    );
  }

  & square.premove-dest {
    background: radial-gradient(
      rgb(var(--board-premove) / 0.5) 22%,
      rgb(var(--board-premove)) 0,
      rgb(var(--board-crust) / 0.3) 0,
      rgb(var(--board-crust) / 0) 0
    );

    &:hover {
      background: rgb(var(--board-premove) / 0.2);
    }
  }

  & square.oc.premove-dest {
    background: radial-gradient(
      transparent 0%,
      transparent 80%,
      rgb(var(--board-premove) / 0.2) 80%
    );
  }

  & square.last-move {
    background-color: var(--board-last-move);
  }

  & square.selected {
    background-color: var(--board-selected);
  }

  & square.check {
    background: radial-gradient(
      ellipse at center,
      rgb(var(--board-check)) 0%,
      rgb(var(--board-check) / 0.8) 25%,
      rgb(var(--board-check) / 0) 89%,
      rgb(var(--board-check) / 0) 100%
    );
  }

  & square.current-premove {
    background-color: rgb(var(--board-premove) / 0.5);
  }
}

/* Coordinate label colors — cross-parent selectors, nesting would duplicate declarations */
/* stylelint-disable csstools/use-nesting */
.orientation-white .ranks :nth-child(odd),
.orientation-white .files :nth-child(even),
.orientation-black .ranks :nth-child(even),
.orientation-black .files :nth-child(odd),
coords.squares:nth-of-type(odd) :nth-child(even),
coords.squares:nth-of-type(even) :nth-child(odd) {
  color: var(--board-coord-dark);
}

.orientation-white .ranks :nth-child(even),
.orientation-white .files :nth-child(odd),
.orientation-black .ranks :nth-child(odd),
.orientation-black .files :nth-child(even),
coords.squares:nth-of-type(odd) :nth-child(odd),
coords.squares:nth-of-type(even) :nth-child(even) {
  color: var(--board-coord-light);
}
/* stylelint-enable csstools/use-nesting */
